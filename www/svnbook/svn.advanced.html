<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.73.2"><link rel="start" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;"><link rel="up" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;"><link rel="prev" href="svn.tour.summary.html" title="&#24635;&#32467;"><link rel="next" href="svn.advanced.props.html" title="&#23646;&#24615;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="svn.tour.summary.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="svn.advanced.props.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh-cn"><div class="titlepage"><div><div><h1 class="title"><a name="svn.advanced"></a>&#39640;&#32423;&#20027;&#39064;</h1></div></div></div><div class="toc"><p><b>&#30446;&#24405;</b></p><dl><dt><span class="section"><a href="svn.advanced.html#svn.tour.revs.specifiers">&#29256;&#26412;&#28165;&#21333;</a></span></dt><dd><dl><dt><span class="section"><a href="svn.advanced.html#svn.tour.revs.keywords">&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;</a></span></dt><dt><span class="section"><a href="svn.advanced.html#svn.tour.revs.dates">&#29256;&#26412;&#26085;&#26399;</a></span></dt></dl></dd><dt><span class="section"><a href="svn.advanced.props.html">&#23646;&#24615;</a></span></dt><dd><dl><dt><span class="section"><a href="svn.advanced.props.html#svn.advanced.props.why">&#20026;&#20160;&#20040;&#38656;&#35201;&#23646;&#24615;&#65311;</a></span></dt><dt><span class="section"><a href="svn.advanced.props.html#svn.advanced.props.manip">&#25805;&#20316;&#23646;&#24615;</a></span></dt><dt><span class="section"><a href="svn.advanced.props.html#svn.advanced.props.workflow">&#23646;&#24615;&#21644; Subversion &#24037;&#20316;&#27969;&#31243;</a></span></dt><dt><span class="section"><a href="svn.advanced.props.html#svn.advanced.props.auto">&#33258;&#21160;&#35774;&#32622;&#23646;&#24615;</a></span></dt></dl></dd><dt><span class="section"><a href="svn.advanced.props.file-portability.html">&#25991;&#20214;&#31227;&#26893;&#24615;</a></span></dt><dd><dl><dt><span class="section"><a href="svn.advanced.props.file-portability.html#svn.advanced.props.special.mime-type">&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;</a></span></dt><dt><span class="section"><a href="svn.advanced.props.file-portability.html#svn.advanced.props.special.executable">&#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;</a></span></dt><dt><span class="section"><a href="svn.advanced.props.file-portability.html#svn.advanced.props.special.eol-style">&#34892;&#32467;&#26463;&#23383;&#31526;&#20018;</a></span></dt></dl></dd><dt><span class="section"><a href="svn.advanced.props.special.ignore.html">&#24573;&#30053;&#26410;&#29256;&#26412;&#25511;&#21046;&#30340;&#26465;&#30446;</a></span></dt><dt><span class="section"><a href="svn.advanced.props.special.keywords.html">&#20851;&#38190;&#23383;&#26367;&#25442;</a></span></dt><dt><span class="section"><a href="svn.advanced.sparsedirs.html">Sparse Directories</a></span></dt><dt><span class="section"><a href="svn.advanced.locking.html">&#38145;&#23450;</a></span></dt><dd><dl><dt><span class="section"><a href="svn.advanced.locking.html#svn.advanced.locking.creation">Creating Locks</a></span></dt><dt><span class="section"><a href="svn.advanced.locking.html#svn.advanced.locking.discovery">Discovering Locks</a></span></dt><dt><span class="section"><a href="svn.advanced.locking.html#svn.advanced.locking.break-steal">Breaking and Stealing Locks</a></span></dt><dt><span class="section"><a href="svn.advanced.locking.html#svn.advanced.locking.lock-communication">&#38145;&#23450;&#20132;&#27969;</a></span></dt></dl></dd><dt><span class="section"><a href="svn.advanced.externals.html">&#22806;&#37096;&#23450;&#20041;</a></span></dt><dt><span class="section"><a href="svn.advanced.pegrevs.html">Peg&#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;</a></span></dt><dt><span class="section"><a href="svn.advanced.changelists.html">Changelists</a></span></dt><dd><dl><dt><span class="section"><a href="svn.advanced.changelists.html#svn.advanced.changelists.creating">Creating and Modifying Changelists</a></span></dt><dt><span class="section"><a href="svn.advanced.changelists.html#svn.advanced.changelists.asfilters">Changelists as Operation Filters</a></span></dt><dt><span class="section"><a href="svn.advanced.changelists.html#svn.advanced.changelists.limitations">Changelist Limitations</a></span></dt></dl></dd><dt><span class="section"><a href="svn.serverconfig.netmodel.html">&#32593;&#32476;&#27169;&#22411;</a></span></dt><dd><dl><dt><span class="section"><a href="svn.serverconfig.netmodel.html#svn.serverconfig.netmodel.reqresp">&#35831;&#27714;&#21644;&#21709;&#24212;</a></span></dt><dt><span class="section"><a href="svn.serverconfig.netmodel.html#svn.serverconfig.netmodel.credcache">&#23458;&#25143;&#31471;&#20973;&#35777;&#32531;&#23384;</a></span></dt></dl></dd></dl></div><p>If you've been reading this book chapter by chapter, from
    start to finish, you should by now have acquired enough
    knowledge to use the Subversion client to perform the most
    common version control operations.  You understand how to
    check out a working copy from a Subversion repository.  You are
    comfortable with submitting and receiving changes using the
    <span class="command"><strong>svn commit</strong></span> and <span class="command"><strong>svn update</strong></span>
    functions.  You've probably even developed a reflex that causes
    you to run the <span class="command"><strong>svn status</strong></span> command almost
    unconsciously.  For all intents and purposes, you are ready to
    use Subversion in a typical environment.</p><p>But the Subversion feature set doesn't stop at &#8220;<span class="quote">common
    version control operations.</span>&#8221;  It has other bits of
    functionality besides just communicating file and
    directory changes to and from a central repository.</p><p>This chapter highlights some of Subversion's features that,
    while important, aren't part of the typical user's daily routine.
    It assumes that you are familiar with Subversion's basic file and
    directory versioning capabilities.  If you aren't, you'll want to
    first read <a class="xref" href="svn.basic.html" title="&#31532;&nbsp;1&nbsp;&#31456;&nbsp;&#22522;&#26412;&#27010;&#24565;">&#31532;&nbsp;1&nbsp;&#31456; <i>&#22522;&#26412;&#27010;&#24565;</i></a> and <a class="xref" href="svn.tour.html" title="&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#22522;&#26412;&#20351;&#29992;">&#31532;&nbsp;2&nbsp;&#31456; <i>&#22522;&#26412;&#20351;&#29992;</i></a>.  Once you've mastered those basics and
    consumed this chapter, you'll be a Subversion power user!</p><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="svn.tour.revs.specifiers"></a>&#29256;&#26412;&#28165;&#21333;</h2></div></div></div><p>As we described in <a class="xref" href="svn.basic.in-action.html#svn.basic.in-action.revs" title="&#20462;&#35746;&#29256;&#26412;">&#8220;&#20462;&#35746;&#29256;&#26412;&#8221;&#19968;&#33410;</a>, revision numbers in Subversion are pretty
      straightforward&#8212;integers that keep getting larger as you
      commit more changes to your versioned data.  Still, it doesn't
      take long before you can no longer remember exactly what
      happened in each and every revision.  Fortunately, the typical
      Subversion workflow doesn't often demand that you supply
      arbitrary revisions to the Subversion operations you perform.
      For operations that <span class="emphasis"><em>do</em></span> require a revision
      specifier, you generally supply a revision number that you saw
      in a commit email, in the output of some other Subversion
      operation, or in some other context that would give meaning to
      that particular number.</p><p>But occasionally, you need to pinpoint a moment in time for
      which you don't already have a revision number memorized or
      handy.  So besides the integer revision numbers,
      <span class="command"><strong>svn</strong></span> allows as input some additional forms of
      revision specifiers: <em class="firstterm">revision keywords</em>
      and revision dates.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#24403;&#29992;&#26469;&#25351;&#23450;&#20462;&#35746;&#29256;&#26412;&#33539;&#22260;&#26102;&#65292;&#19981;&#21516;&#24418;&#24335;&#30340;Subversion&#20462;&#35746;&#29256;&#26412;&#21487;&#20197;&#28151;&#21512;&#21305;&#37197;&#12290;&#20363;&#22914;&#65292;&#20320;&#21487;&#20197;<em class="replaceable"><code>REV1</code></em>&#26159;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;&#65292;<em class="replaceable"><code>REV2</code></em>&#26159;&#20462;&#35746;&#29256;&#26412;&#21495;&#65292;&#25110;&#32773;&#26159;<em class="replaceable"><code>REV1</code></em>&#26159;&#26085;&#26399;&#65292;&#32780;<em class="replaceable"><code>REV2</code></em>&#26159;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;&#65292;&#31561;&#31561;&#12290;&#19981;&#21516;&#30340;&#20462;&#35746;&#29256;&#26412;&#25351;&#23450;&#31526;&#26159;&#31561;&#20215;&#30340;&#65292;&#25152;&#20197;&#20320;&#21487;&#20197;&#22312;&#20882;&#21495;&#20004;&#36793;&#20219;&#24847;&#20351;&#29992;&#12290;</p></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.revs.keywords"></a>&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;</h3></div></div></div><a class="indexterm" name="d0e3684"></a><a class="indexterm" name="d0e3689"></a><a class="indexterm" name="d0e3692"></a><a class="indexterm" name="d0e3695"></a><a class="indexterm" name="d0e3698"></a><p>The Subversion client understands a number of revision
        keywords.  These keywords can be used instead of integer
        arguments to the <code class="option">--revision</code>
        (<code class="option">-r</code>) option, and are resolved into specific
        revision numbers by Subversion:</p><div class="variablelist"><dl><dt><span class="term">
              <code class="literal">HEAD</code>
            </span></dt><dd><p>&#29256;&#26412;&#24211;&#20013;&#26368;&#26032;&#30340;(&#25110;&#32773;&#26159;&#8220;<span class="quote">&#26368;&#24180;&#36731;&#30340;</span>&#8221;)&#29256;&#26412;&#12290;</p></dd><dt><span class="term">
              <code class="literal">BASE</code>
            </span></dt><dd><p>The revision number of an item in a working copy.
              If the item has been locally modified, this refers to
              the way the item appears without those local
              modifications.</p></dd><dt><span class="term">
              <code class="literal">COMMITTED</code>
            </span></dt><dd><p>&#39033;&#30446;&#26368;&#36817;&#20462;&#25913;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#19982;<code class="literal">BASE</code>&#30456;&#21516;&#25110;&#26356;&#26089;&#12290;</p></dd><dt><span class="term">
              <code class="literal">PREV</code>
            </span></dt><dd><p>&#19968;&#20010;&#39033;&#30446;&#26368;&#21518;&#20462;&#25913;&#29256;&#26412;<span class="emphasis"><em>&#20043;&#21069;</em></span>&#30340;&#37027;&#20010;&#29256;&#26412;&#65292;&#25216;&#26415;&#19978;&#21487;&#20197;&#35748;&#20026;&#26159;<code class="literal">COMMITTED</code> -1&#12290;</p></dd></dl></div><p>&#22240;&#20026;&#21487;&#20197;&#20174;&#25551;&#36848;&#20013;&#24471;&#21040;&#65292;&#20851;&#38190;&#23383;<code class="literal">PREV</code>&#65292;<code class="literal">BASE</code>&#21644;<code class="literal">COMMITTED</code>&#21482;&#22312;&#24341;&#29992;&#24037;&#20316;&#25335;&#36125;&#36335;&#24452;&#26102;&#20351;&#29992;&#65292;&#32780;&#19981;&#33021;&#29992;&#20110;&#29256;&#26412;&#24211;URL&#65292;&#32780;&#20851;&#38190;&#23383;<code class="literal">HEAD</code>&#21017;&#21487;&#20197;&#29992;&#20110;&#20004;&#31181;&#36335;&#24452;&#31867;&#22411;&#12290;</p><p>&#19979;&#38754;&#26159;&#19968;&#20123;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;&#30340;&#20363;&#23376;&#65306;</p><pre class="screen">
$ svn diff -r PREV:COMMITTED foo.c
# shows the last change committed to foo.c

$ svn log -r HEAD
# shows log message for the latest repository commit

$ svn diff -r HEAD
# compares your working copy (with all of its local changes) to the
# latest version of that tree in the repository

$ svn diff -r BASE:HEAD foo.c
# compares the unmodified version of foo.c with the latest version of
# foo.c in the repository

$ svn log -r BASE:HEAD
# shows all commit logs for the current versioned directory since you
# last updated

$ svn update -r PREV foo.c
# rewinds the last change on foo.c, decreasing foo.c's working revision

$ svn diff -r BASE:14 foo.c
# compares the unmodified version of foo.c with the way foo.c looked
# in revision 14
</pre></div><div class="section" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="svn.tour.revs.dates"></a>&#29256;&#26412;&#26085;&#26399;</h3></div></div></div><a class="indexterm" name="d0e3781"></a><p>Revision numbers reveal nothing about the world outside
        the version control system, but sometimes you need to
        correlate a moment in real time with a moment in version
        history.  To facilitate this, the <code class="option">--revision</code>
        (<code class="option">-r</code>) option can also accept as input date
        specifiers wrapped in curly braces (<code class="literal">{</code> and
        <code class="literal">}</code>).  Subversion accepts the standard
        ISO-8601 date and time formats, plus a few others.  Here are
        some examples.  (Remember to use quotes around any date that
        contains spaces.)</p><pre class="screen">
$ svn checkout -r {2006-02-17}
$ svn checkout -r {15:30}
$ svn checkout -r {15:30:00.200000}
$ svn checkout -r {"2006-02-17 15:30"}
$ svn checkout -r {"2006-02-17 15:30 +0230"}
$ svn checkout -r {2006-02-17T15:30}
$ svn checkout -r {2006-02-17T15:30Z}
$ svn checkout -r {2006-02-17T15:30-04:00}
$ svn checkout -r {20060217T1530}
$ svn checkout -r {20060217T1530Z}
$ svn checkout -r {20060217T1530-0500}
&#8230;
</pre><p>&#24403;&#20320;&#25351;&#23450;&#19968;&#20010;&#26085;&#26399;&#65292;Subversion&#20250;&#22312;&#29256;&#26412;&#24211;&#25214;&#21040;&#25509;&#36817;&#36825;&#20010;&#26085;&#26399;&#30340;&#26368;&#36817;&#29256;&#26412;&#65292;&#24182;&#19988;&#23545;&#36825;&#20010;&#29256;&#26412;&#32487;&#32493;&#25805;&#20316;&#65306;</p><pre class="screen">
$ svn log -r {2006-11-28}
------------------------------------------------------------------------
r12 | ira | 2006-11-27 12:31:51 -0600 (Mon, 27 Nov 2006) | 6 lines
&#8230;
</pre><div class="sidebar"><p class="title"><b>Subversion &#20250;&#26089;&#19968;&#22825;&#21527;&#65311;</b></p><p>If you specify a single date as a revision without
          specifying a time of day (for example
          <code class="literal">2006-11-27</code>), you may think that Subversion
          should give you the last revision that took place on the
          27th of November.  Instead, you'll get back a revision from
          the 26th, or even earlier.  Remember that Subversion will
          find the <span class="emphasis"><em>most recent revision of the
          repository</em></span> as of the date you give.  If you give
          a date without a timestamp, such as
          <code class="literal">2006-11-27</code>, Subversion assumes a time of
          00:00:00, so looking for the most recent revision won't
          return anything on the 27th.</p><p>&#22914;&#26524;&#20320;&#24076;&#26395;&#26597;&#35810;&#21253;&#25324;27&#21495;&#65292;&#20320;&#26082;&#21487;&#20197;&#20351;&#29992;(<code class="literal">{"2006-11-27 23:59"}</code>)&#65292;&#25110;&#26159;&#30452;&#25509;&#20351;&#29992;&#31532;&#20108;&#22825;(<code class="literal">{2006-11-28}</code>)&#12290;</p></div><p>&#20320;&#21487;&#20197;&#20351;&#29992;&#26102;&#38388;&#27573;&#65292;Subversion&#20250;&#25214;&#21040;&#36825;&#27573;&#26102;&#38388;&#30340;&#25152;&#26377;&#29256;&#26412;&#65306;</p><pre class="screen">
$ svn log -r {2006-11-20}:{2006-11-29}
&#8230;
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#35686;&#21578;</h3><p>Since the timestamp of a revision is stored as an
          unversioned, modifiable property of the revision (see <a class="xref" href="svn.advanced.props.html" title="&#23646;&#24615;">&#8220;&#23646;&#24615;&#8221;&#19968;&#33410;</a>), revision timestamps can be
          changed to represent complete falsifications of true
          chronology, or even removed altogether.  Subversion's
          ability to correctly convert revision dates into real
          revision numbers depends on revision datestamps maintaining
          a sequential ordering&#8212;the younger the revision, the
          younger its timestamp.  If this ordering isn't maintained,
          you will likely find that trying to use dates to specify
          revision ranges in your repository doesn't always return the
          data you might have expected.</p></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="svn.tour.summary.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="svn.advanced.props.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#24635;&#32467;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#23646;&#24615;</td></tr></table></div></body></html>