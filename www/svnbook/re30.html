<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>svn switch</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.73.2"><link rel="start" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;"><link rel="up" href="ch09.html#svn.ref.svn.c" title="svn&#23376;&#21629;&#20196;"><link rel="prev" href="re29.html" title="svn status"><link rel="next" href="re31.html" title="svn unlock"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">svn switch</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="re29.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center"><span class="command"><strong>svn</strong></span>&#23376;&#21629;&#20196;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="re31.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="refentry" lang="zh-cn"><a name="svn.ref.svn.c.switch"></a><div class="titlepage"></div><a class="indexterm" name="d0e19379"></a><div class="refnamediv"><h2>&#21517;&#31216;</h2><p>svn switch &#8212; &#25226;&#24037;&#20316;&#25335;&#36125;&#26356;&#26032;&#21040;&#21035;&#30340;URL&#12290;</p></div><div class="refsection" lang="zh-cn"><a name="d0e19391"></a><h2>&#27010;&#35201;</h2><pre class="programlisting">svn switch URL[@PEGREV] [PATH]</pre><pre class="programlisting">switch --relocate FROM TO [PATH...]</pre></div><div class="refsection" lang="zh-cn"><a name="d0e19399"></a><h2>&#25551;&#36848;</h2><p>The first variant of this subcommand (without the
            <code class="option">--relocate</code> option) updates your working
            copy to point to a new URL&#8212;usually a URL which
            shares a common ancestor with your working copy, although
            not necessarily.  This is the Subversion way to move a
            working copy to a new branch.  If specified,
            <em class="replaceable"><code>PEGREV</code></em> determines in which
            revision the target is first looked up.  See <a class="xref" href="ch04s05.html" title="&#20351;&#29992;&#20998;&#25903;">&#8220;&#20351;&#29992;&#20998;&#25903;&#8221;&#19968;&#33410;</a> for an in-depth look
            at switching.</p><p>If <code class="option">--force</code> is used, unversioned
            obstructing paths in the working copy do not automatically
            cause a failure if the switch attempts to add the same
            path.  If the obstructing path is the same type (file or
            directory) as the corresponding path in the repository it
            becomes versioned but its contents are left untouched in
            the working copy.  This means that an obstructing
            directory's unversioned children may also obstruct and
            become versioned.  For files, any content differences
            between the obstruction and the repository are treated
            like a local modification to the working copy.  All
            properties from the repository are applied to the
            obstructing path.</p><p>As with most subcommands, you can limit the scope of
            the switch operation to a particular tree depth using the
            <code class="option">--depth</code> option.  Alternatively, you can
            use the --set-depth option to set a new
            &#8220;<span class="quote">sticky</span>&#8221; working copy depth on the switch
            target.  Currently, the depth of a working copy directory
            can only be increased (telescoped more deeply); you cannot
            make a directory more shallow.</p><p><code class="option">--relocate</code>&#36873;&#39033;&#23548;&#33268;<span class="command"><strong>svn switch</strong></span>&#20570;&#19981;&#21516;&#30340;&#20107;&#24773;&#65306;&#23427;&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#25351;&#21521;&#21040;<span class="emphasis"><em>&#21516;&#19968;&#20010;</em></span>&#29256;&#26412;&#24211;&#30446;&#24405;&#65292;&#20294;&#26159;&#19981;&#21516;&#30340;URL&#65288;&#36890;&#24120;&#22240;&#20026;&#31649;&#29702;&#21592;&#23558;&#29256;&#26412;&#24211;&#36716;&#31227;&#20102;&#26381;&#21153;&#22120;&#65292;&#25110;&#21040;&#20102;&#21516;&#19968;&#20010;&#26381;&#21153;&#22120;&#30340;&#21478;&#19968;&#20010;URL&#65289;&#12290;</p></div><div class="refsection" lang="zh-cn"><a name="d0e19436"></a><h2>&#21035;&#21517;</h2><p>sw</p></div><div class="refsection" lang="zh-cn"><a name="d0e19442"></a><h2>&#25913;&#21464;</h2><p>&#24037;&#20316;&#25335;&#36125;2</p></div><div class="refsection" lang="zh-cn"><a name="d0e19448"></a><h2>&#26159;&#21542;&#35775;&#38382;&#29256;&#26412;&#24211;</h2><p>&#26159;</p></div><div class="refsection" lang="zh-cn"><a name="d0e19454"></a><h2>&#36873;&#39033;</h2><pre class="screen">
--revision (-r) REV
--depth ARG
--set-depth ARG
--ignore-externals
--force
--accept ARG
--quiet (-q)
--diff3-cmd CMD
--relocate FROM TO
--username USER
--password PASS
--no-auth-cache
--non-interactive
--config-dir DIR
</pre></div><div class="refsection" lang="zh-cn"><a name="d0e19460"></a><h2>&#20363;&#23376;</h2><p>&#22914;&#26524;&#20320;&#30446;&#21069;&#25152;&#22312;&#30446;&#24405;<code class="filename">vendors</code>&#20998;&#25903;&#21040;<code class="filename">vendors-with-fix</code>&#65292;&#20320;&#24076;&#26395;&#36716;&#31227;&#21040;&#37027;&#20010;&#20998;&#25903;&#65306;</p><pre class="screen">
$ svn switch http://svn.red-bean.com/repos/branches/vendors-with-fix .
U  myproj/foo.txt
U  myproj/bar.txt
U  myproj/baz.c
U  myproj/qux.c
Updated to revision 31.
</pre><p>&#20026;&#20102;&#36339;&#36716;&#22238;&#26469;&#65292;&#21482;&#38656;&#35201;&#25552;&#20379;&#26368;&#21021;&#21462;&#20986;&#24037;&#20316;&#25335;&#36125;&#30340;&#29256;&#26412;&#24211;URL&#65306;</p><pre class="screen">
$ svn switch http://svn.red-bean.com/repos/trunk/vendors .
U  myproj/foo.txt
U  myproj/bar.txt
U  myproj/baz.c
U  myproj/qux.c
Updated to revision 31.
</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3><p>&#22914;&#26524;&#20320;&#19981;&#24076;&#26395;&#36339;&#36716;&#25152;&#26377;&#30340;&#24037;&#20316;&#25335;&#36125;&#65292;&#20320;&#21487;&#20197;&#21482;&#36339;&#36716;&#19968;&#37096;&#20998;&#12290;</p></div><p>Sometimes an administrator might change the location
            (or apparent location) of your repository&#8212;in other
            words, the content of the repository doesn't change, but
            the repository's root URL does.  For example, the hostname
            may change, the URL scheme may change, or any part of the
            URL which leads to the repository itself may change.
            Rather than check out a new working copy, you can have the
            <span class="command"><strong>svn switch</strong></span> command
            &#8220;<span class="quote">rewrite</span>&#8221; your working copy's administrative
            metadata to refer to the new repository location.  If you
            use the <code class="option">--relocate</code> option to <span class="command"><strong>svn
            switch</strong></span>, Subversion will contact the repository
            to validate the relocation request (looking for the
            repository at the new URL, of course), and then do this
            metadata rewriting.  No file contents will be changed as
            the result of this type of switch operation&#8212;this is
            a metadata-only modification to the working copy.</p><pre class="screen">
$ svn checkout file:///var/svn/repos test
A  test/a
A  test/b
&#8230;

$ mv repos newlocation
$ cd test/

$ svn update
svn: Unable to open an ra_local session to URL
svn: Unable to open repository 'file:///var/svn/repos'

$ svn switch --relocate file:///var/svn/repos file:///tmp/newlocation .
$ svn update
At revision 3.
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#35686;&#21578;</h3><p>&#23567;&#24515;&#20351;&#29992;<code class="option">--relocate</code>&#36873;&#39033;&#65292;&#22914;&#26524;&#20320;&#36755;&#20837;&#20102;&#38169;&#35823;&#30340;&#36873;&#39033;&#65292;&#20320;&#20250;&#22312;&#24037;&#20316;&#25335;&#36125;&#21019;&#24314;&#26080;&#24847;&#20041;&#30340;URL&#65292;&#20250;&#23548;&#33268;&#25972;&#20010;&#24037;&#20316;&#21306;&#19981;&#21487;&#29992;&#24182;&#19988;&#38590;&#20110;&#20462;&#22797;&#12290;&#29702;&#35299;&#20309;&#26102;&#24212;&#35813;&#20351;&#29992;<code class="option">--relocate</code>&#20063;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#65292;&#19979;&#38754;&#26159;&#19968;&#20123;&#35268;&#21017;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#22914;&#26524;&#24037;&#20316;&#25335;&#36125;&#38656;&#35201;&#21453;&#26144;&#19968;&#20010;&#29256;&#26412;&#24211;&#30340;&#26032;&#30446;&#24405;&#65292;&#21482;&#38656;&#35201;&#20351;&#29992;<span class="command"><strong>svn switch</strong></span>&#12290;</p></li><li><p>&#22914;&#26524;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#36824;&#26159;&#21453;&#26144;&#30456;&#21516;&#30340;&#29256;&#26412;&#24211;&#30446;&#24405;&#65292;&#20294;&#26159;&#29256;&#26412;&#24211;&#26412;&#36523;&#30340;&#20301;&#32622;&#25913;&#21464;&#20102;&#65292;&#20351;&#29992;<span class="command"><strong>svn switch --relocate</strong></span>&#12290;</p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="re29.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch09.html#svn.ref.svn.c">&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="re31.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">svn status&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;svn unlock</td></tr></table></div></body></html>