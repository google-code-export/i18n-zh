#summary 从 pot 文件生成合适的 po 文件
[TP 返回TP][返回新手指南]
===简介===
这里主要介绍如何从下载到的 pot 文件生成合适的 po 文件。针对 Debian 系统。

===详细说明===
本文将只介绍”如何从 pot 中生成正确的 po 文件头部“。
方法其实非常简单，还是用 gettext 提供的程序。在 pot 文件所在的目录，执行
`msginit -l zh_CN.utf8`

最好选择 utf8 的编码。原因可能是因为 GB 编码的在英文系统下看来是一些乱码，而 utf8 编码在英文系统下看来是类似于 \x127\x721 之类的东西。这样，老外还能认出是些什么东西，呵呵。

下面要说的东西，比较重要！对于绝大多数人来讲，我想你们在装系统时，不太可能主动填上自己的真实姓名。举个例子，我参加了一个翻译计划，而这个计划所翻译的文件中，有相当一部分属于 GNU 的软件。为了避免以后出现法律问题，它要求每个翻译者都要签署一份弃权申明。如果不签的话，凡 GNU 所属软件是不会用你翻译的 po 文件的。为此，我需要签署那份协议，然后在 po 文件中写上我签署协议时所用的名字和邮件地址。而这两点，我想各位在装系统时，基本都不会注意的。

OK！说说我的方法吧。
对于名字，我的方法是，执行
`sudo chfn your_login_name`

然后，在 FULL Name 中填上你签署协议时所用的姓名。当然，如果你对系统比较熟悉的话，也可以在
/etc/passwd 中直接修改。只要改你的全名就行了。
对于邮件地址，我的作法是，改 /usr/lib/gettext/user-email 中最后一句 echo "$addr" 为 echo "your_email_address"，这样就能解决以上问题了。

运行 msginit -l zh_CN.utf8 时，系统会出来提示要你选择一个邮件地址。一般情况下，只会有一个选择，就是带有 yourloginname@localhost.localdomain 的这一行。对于某些人来讲，可能还会有其它的行，不过没事的，你就选择带有上面字样的这一行就行。这样生成的 po 文件就是正确的了，不用再自己手工去改文件头了。然后还有一点，请用 \l (Vim 用户）或是手工改 Last-translator(Emacs 用户） 这一行，因为这是无法自动生成的。
[TP 返回TP]